{"remainingRequest":"C:\\xampp\\htdocs\\GIT\\server-side\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\GIT\\server-side\\src\\components\\vx-auto-suggest\\VxAutoSuggest.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\GIT\\server-side\\src\\components\\vx-auto-suggest\\VxAutoSuggest.vue","mtime":1567376724486},{"path":"C:\\xampp\\htdocs\\GIT\\server-side\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\GIT\\server-side\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\GIT\\server-side\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\GIT\\server-side\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default{\r\n\tprops: {\r\n\t\tplaceholder: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'Search..'\r\n\t\t},\r\n\t\tdata: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tshowAction: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\tinputClassses: {\r\n\t\t\ttype: [String, Object, Array],\r\n\t\t},\r\n\t\tautoFocus: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\tshowPinned: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tbackgroundOverlay: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tsearchLimit: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 10\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsearchQuery: '',\r\n\t\t\tfilteredData: [],\r\n\t\t\tcurrentSelected: -1,\r\n\t\t\tinputFocused: false,\r\n\t\t\tinsideSuggestions: false,\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\t// UPDATE SUGGESTIONS LIST\r\n\t\tsearchQuery(val) {\r\n\t\t\tif(val == '') {\r\n\t\t\t\tthis.inputInit();\r\n\t\t\t\tif(this.bodyOverlay) this.$store.commit('TOGGLE_CONTENT_OVERLAY', false);\r\n\t\t\t}else {\r\n\t\t\t\tif(this.backgroundOverlay && !this.bodyOverlay) this.$store.commit('TOGGLE_CONTENT_OVERLAY', true);\r\n\t\t\t\tlet exactEle = this.data.data.filter((item) => {\r\n\t\t\t\t\treturn item.label.toLowerCase().startsWith(this.searchQuery.toLowerCase())\r\n\t\t\t\t});\r\n\t\t\t\tlet containEle = this.data.data.filter((item) => {\r\n\t\t\t\t\treturn !item.label.toLowerCase().startsWith(this.searchQuery.toLowerCase()) && item.label.toLowerCase().indexOf(this.searchQuery.toLowerCase()) > -1\r\n\t\t\t\t});\r\n\t\t\t\tthis.filteredData = exactEle.concat(containEle).slice(0,this.searchLimit)\r\n\t\t\t\tif(!this.filteredData[0]) this.currentSelected = -1\r\n\t\t\t}\r\n\r\n\t\t\t// ADD: No result found\r\n\t\t\tif(!this.filteredData.length && this.searchQuery) {\r\n\t\t\t\tthis.filteredData = [{\r\n\t\t\t\t\thighlightAction: false,\r\n\t\t\t\t\tindex: -1,\r\n\t\t\t\t\tlabel: 'No results found.',\r\n\t\t\t\t\tlabelIcon: 'AlertCircleIcon',\r\n\t\t\t\t\turl: null,\r\n\t\t\t\t}]\r\n\t\t\t}\r\n\t\t},\r\n\t\tautoFocus(val) {\r\n\t\t\tif(val) this.focusInput();\r\n\t\t\telse this.searchQuery = '';\r\n\t\t},\r\n\t\tfilteredData() {\r\n\t\t\tif(this.currentSelected < 0 && this.filteredData.length) {\r\n\t\t\t\tthis.currentSelected = 0;\r\n\t\t\t}\r\n\t\t\t// Prevent selecting if first item in list dont have url e.g. 'No Reult'\r\n\t\t\tif(this.filteredData[0]){\r\n\t\t\t\tif(!this.filteredData[0].url) {\r\n\t\t\t\t\tthis.currentSelected = -1\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tbodyOverlay() {\r\n\t\t\treturn this.$store.state.bodyOverlay;\r\n\t\t},\r\n\t\tactionClasses() {\r\n\t\t\treturn (isHighlighted) => {\r\n\t\t\t\tif(isHighlighted) return `stroke-current text-${this.data.highlightColor}`\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tescPressed() {\r\n\t\t\tthis.$emit('closeSearchbar')\r\n\t\t\tthis.searchQuery = '';\r\n\t\t\tthis.filteredData = [];\r\n\t\t},\r\n\t\tinputInit() {\r\n\t\t\tif(this.showPinned) {\r\n\t\t\t\tconst starredData = this.data.data.filter((item) => item.highlightAction)\r\n\t\t\t\tthis.filteredData = starredData;\r\n\t\t\t}else {\r\n\t\t\t\tthis.filteredData = [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdateInputFocus(val = true) {\r\n\t\t\tif(val) {\r\n\t\t\t\tif(this.searchQuery == '') this.inputInit();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.inputFocused = true;\r\n\t\t\t\t}, 100)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(this.insideSuggestions) return\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.inputFocused = false;\r\n\t\t\t\t}, 100)\r\n\t\t\t\tthis.escPressed();\r\n\t\t\t}\r\n\t\t},\r\n\t\tsuggestionSelected() {\r\n\t\t\tif(this.bodyOverlay && this.filteredData[0].url) this.$store.commit('TOGGLE_CONTENT_OVERLAY', false);\r\n\t\t\tif(this.filteredData.length) {\r\n\t\t\t\tif(this.filteredData[0].url){\r\n\t\t\t\t\tthis.searchQuery = '';\r\n\t\t\t\t\tif(this.currentSelected >= 0 ) this.$emit('selected', this.filteredData[this.currentSelected])\r\n\t\t\t\t\telse this.$emit('selected', this.filteredData[0])\r\n\t\t\t\t\tthis.filteredData = [];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tactionClicked() {\r\n\t\t\tthis.$emit('actionClicked', this.filteredData[this.currentSelected])\r\n\t\t\tif(!this.filteredData[this.currentSelected].highlightAction) this.filteredData.splice(this.currentSelected, 1)\r\n\t\t},\r\n\t\tincreaseIndex(val = false) {\r\n\t\t\tif(!val && this.currentSelected > 0) this.currentSelected--\r\n\t\t\telse if(val && (this.currentSelected < this.filteredData.length-1) && (this.filteredData[this.currentSelected+1].index > -1)) this.currentSelected++\r\n\t\t\tthis.fixScrolling();\r\n\t\t},\r\n\t\tfocusInput() {\r\n\t\t\tthis.$refs.input.$el.querySelector('input').focus();\r\n\t\t},\r\n\t\tfixScrolling() {\r\n\t\t\tif(this.currentSelected > 0) {\r\n\t\t\t\tconst liH = this.$refs.option[this.currentSelected].clientHeight;\r\n\t\t\t\tconst ulH = this.$refs.scrollContainer.clientHeight;\r\n\t\t\t\tif(ulH - (liH * this.currentSelected) < liH){\r\n\t\t\t\t\tthis.$refs.scrollContainer.scrollTop = Math.round(((this.currentSelected+1) - (ulH / liH)+1) * liH);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tif(this.autoFocus) this.focusInput();\r\n\t}\r\n}\r\n",{"version":3,"sources":["VxAutoSuggest.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VxAutoSuggest.vue","sourceRoot":"src/components/vx-auto-suggest","sourcesContent":["<template>\r\n\t<div class=\"vx-auto-suggest\">\r\n\t\t<div class=\"flex items-center relative\">\r\n\t\t\t<vs-input :placeholder=\"placeholder\" ref=\"input\" :class=\"inputClassses\" class=\"z-50\" icon-pack='feather' icon='icon-search' icon-no-border v-model=\"searchQuery\" @keyup.esc=\"escPressed\" @keyup.up=\"increaseIndex(false)\" @keyup.down=\"increaseIndex\" @keyup.enter=\"suggestionSelected\" @focus=\"updateInputFocus\" @blur=\"updateInputFocus(false)\"></vs-input>\r\n\t\t</div>\r\n\t\t<ul ref=\"scrollContainer\" class=\"auto-suggest-suggestions-list z-50 rounded-lg mt-2 shadow-lg overflow-hidden\" :class=\"{'hidden': !inputFocused}\" @mouseenter=\"insideSuggestions = true\" @mouseleave=\"insideSuggestions = false\" @focus=\"updateInputFocus\" @blur=\"updateInputFocus(false)\" tabindex=\"-1\">\r\n\t\t\t<li\r\n\t\t\t\tref=\"option\"\r\n\t\t\t\tclass=\"auto-suggest__suggestion flex items-center justify-between py-3 cursor-pointer\"\r\n\t\t\t\tv-for=\"(suggestion, index) in filteredData\"\r\n\t\t\t\t:key=\"index\"\r\n\t\t\t\t:class=\"{'vx-auto-suggest__current-selected': currentSelected == index, 'pointer-events-none': suggestion.index < 0}\"\r\n\t\t\t\t@mouseenter=\"currentSelected = index\"\r\n\t\t\t\t@click=\"suggestionSelected\">\r\n\r\n\t\t\t\t<div class=\"flex items-center\">\r\n\t\t\t\t\t<feather-icon :icon=\"suggestion.labelIcon\" svgClasses=\"h-5 w-5\" class=\"mr-4\"></feather-icon>\r\n\t\t\t\t\t<span>{{ suggestion.label }}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<feather-icon v-if=\"showAction\" :icon=\"data.actionIcon\" :svgClasses=\"[actionClasses(suggestion.highlightAction), 'h-5 w-5']\" @click.stop=\"actionClicked\"></feather-icon>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default{\r\n\tprops: {\r\n\t\tplaceholder: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'Search..'\r\n\t\t},\r\n\t\tdata: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tshowAction: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\tinputClassses: {\r\n\t\t\ttype: [String, Object, Array],\r\n\t\t},\r\n\t\tautoFocus: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\tshowPinned: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tbackgroundOverlay: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tsearchLimit: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 10\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsearchQuery: '',\r\n\t\t\tfilteredData: [],\r\n\t\t\tcurrentSelected: -1,\r\n\t\t\tinputFocused: false,\r\n\t\t\tinsideSuggestions: false,\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\t// UPDATE SUGGESTIONS LIST\r\n\t\tsearchQuery(val) {\r\n\t\t\tif(val == '') {\r\n\t\t\t\tthis.inputInit();\r\n\t\t\t\tif(this.bodyOverlay) this.$store.commit('TOGGLE_CONTENT_OVERLAY', false);\r\n\t\t\t}else {\r\n\t\t\t\tif(this.backgroundOverlay && !this.bodyOverlay) this.$store.commit('TOGGLE_CONTENT_OVERLAY', true);\r\n\t\t\t\tlet exactEle = this.data.data.filter((item) => {\r\n\t\t\t\t\treturn item.label.toLowerCase().startsWith(this.searchQuery.toLowerCase())\r\n\t\t\t\t});\r\n\t\t\t\tlet containEle = this.data.data.filter((item) => {\r\n\t\t\t\t\treturn !item.label.toLowerCase().startsWith(this.searchQuery.toLowerCase()) && item.label.toLowerCase().indexOf(this.searchQuery.toLowerCase()) > -1\r\n\t\t\t\t});\r\n\t\t\t\tthis.filteredData = exactEle.concat(containEle).slice(0,this.searchLimit)\r\n\t\t\t\tif(!this.filteredData[0]) this.currentSelected = -1\r\n\t\t\t}\r\n\r\n\t\t\t// ADD: No result found\r\n\t\t\tif(!this.filteredData.length && this.searchQuery) {\r\n\t\t\t\tthis.filteredData = [{\r\n\t\t\t\t\thighlightAction: false,\r\n\t\t\t\t\tindex: -1,\r\n\t\t\t\t\tlabel: 'No results found.',\r\n\t\t\t\t\tlabelIcon: 'AlertCircleIcon',\r\n\t\t\t\t\turl: null,\r\n\t\t\t\t}]\r\n\t\t\t}\r\n\t\t},\r\n\t\tautoFocus(val) {\r\n\t\t\tif(val) this.focusInput();\r\n\t\t\telse this.searchQuery = '';\r\n\t\t},\r\n\t\tfilteredData() {\r\n\t\t\tif(this.currentSelected < 0 && this.filteredData.length) {\r\n\t\t\t\tthis.currentSelected = 0;\r\n\t\t\t}\r\n\t\t\t// Prevent selecting if first item in list dont have url e.g. 'No Reult'\r\n\t\t\tif(this.filteredData[0]){\r\n\t\t\t\tif(!this.filteredData[0].url) {\r\n\t\t\t\t\tthis.currentSelected = -1\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tbodyOverlay() {\r\n\t\t\treturn this.$store.state.bodyOverlay;\r\n\t\t},\r\n\t\tactionClasses() {\r\n\t\t\treturn (isHighlighted) => {\r\n\t\t\t\tif(isHighlighted) return `stroke-current text-${this.data.highlightColor}`\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tescPressed() {\r\n\t\t\tthis.$emit('closeSearchbar')\r\n\t\t\tthis.searchQuery = '';\r\n\t\t\tthis.filteredData = [];\r\n\t\t},\r\n\t\tinputInit() {\r\n\t\t\tif(this.showPinned) {\r\n\t\t\t\tconst starredData = this.data.data.filter((item) => item.highlightAction)\r\n\t\t\t\tthis.filteredData = starredData;\r\n\t\t\t}else {\r\n\t\t\t\tthis.filteredData = [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdateInputFocus(val = true) {\r\n\t\t\tif(val) {\r\n\t\t\t\tif(this.searchQuery == '') this.inputInit();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.inputFocused = true;\r\n\t\t\t\t}, 100)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(this.insideSuggestions) return\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.inputFocused = false;\r\n\t\t\t\t}, 100)\r\n\t\t\t\tthis.escPressed();\r\n\t\t\t}\r\n\t\t},\r\n\t\tsuggestionSelected() {\r\n\t\t\tif(this.bodyOverlay && this.filteredData[0].url) this.$store.commit('TOGGLE_CONTENT_OVERLAY', false);\r\n\t\t\tif(this.filteredData.length) {\r\n\t\t\t\tif(this.filteredData[0].url){\r\n\t\t\t\t\tthis.searchQuery = '';\r\n\t\t\t\t\tif(this.currentSelected >= 0 ) this.$emit('selected', this.filteredData[this.currentSelected])\r\n\t\t\t\t\telse this.$emit('selected', this.filteredData[0])\r\n\t\t\t\t\tthis.filteredData = [];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tactionClicked() {\r\n\t\t\tthis.$emit('actionClicked', this.filteredData[this.currentSelected])\r\n\t\t\tif(!this.filteredData[this.currentSelected].highlightAction) this.filteredData.splice(this.currentSelected, 1)\r\n\t\t},\r\n\t\tincreaseIndex(val = false) {\r\n\t\t\tif(!val && this.currentSelected > 0) this.currentSelected--\r\n\t\t\telse if(val && (this.currentSelected < this.filteredData.length-1) && (this.filteredData[this.currentSelected+1].index > -1)) this.currentSelected++\r\n\t\t\tthis.fixScrolling();\r\n\t\t},\r\n\t\tfocusInput() {\r\n\t\t\tthis.$refs.input.$el.querySelector('input').focus();\r\n\t\t},\r\n\t\tfixScrolling() {\r\n\t\t\tif(this.currentSelected > 0) {\r\n\t\t\t\tconst liH = this.$refs.option[this.currentSelected].clientHeight;\r\n\t\t\t\tconst ulH = this.$refs.scrollContainer.clientHeight;\r\n\t\t\t\tif(ulH - (liH * this.currentSelected) < liH){\r\n\t\t\t\t\tthis.$refs.scrollContainer.scrollTop = Math.round(((this.currentSelected+1) - (ulH / liH)+1) * liH);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tif(this.autoFocus) this.focusInput();\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"@/assets/scss/vuesax/components/vxAutoSuggest.scss\";\r\n</style>"]}]}