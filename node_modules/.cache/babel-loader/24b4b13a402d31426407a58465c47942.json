{"remainingRequest":"C:\\xampp\\htdocs\\GIT\\server-side\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\GIT\\server-side\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xampp\\htdocs\\GIT\\server-side\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\GIT\\server-side\\src\\components\\vx-auto-suggest\\VxAutoSuggest.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\GIT\\server-side\\src\\components\\vx-auto-suggest\\VxAutoSuggest.vue","mtime":1567376724486},{"path":"C:\\xampp\\htdocs\\GIT\\server-side\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1567428497170},{"path":"C:\\xampp\\htdocs\\GIT\\server-side\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1567428476521},{"path":"C:\\xampp\\htdocs\\GIT\\server-side\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1567428497170},{"path":"C:\\xampp\\htdocs\\GIT\\server-side\\node_modules\\vue-loader\\lib\\index.js","mtime":1567428708565}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.string.starts-with\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: {\n    placeholder: {\n      type: String,\n      default: 'Search..'\n    },\n    data: {\n      type: Object,\n      required: true\n    },\n    showAction: {\n      type: Boolean,\n      default: false\n    },\n    inputClassses: {\n      type: [String, Object, Array]\n    },\n    autoFocus: {\n      type: Boolean,\n      default: false\n    },\n    showPinned: {\n      type: Boolean,\n      default: false\n    },\n    backgroundOverlay: {\n      type: Boolean,\n      default: false\n    },\n    searchLimit: {\n      type: Number,\n      default: 10\n    }\n  },\n  data: function data() {\n    return {\n      searchQuery: '',\n      filteredData: [],\n      currentSelected: -1,\n      inputFocused: false,\n      insideSuggestions: false\n    };\n  },\n  watch: {\n    // UPDATE SUGGESTIONS LIST\n    searchQuery: function searchQuery(val) {\n      var _this = this;\n\n      if (val == '') {\n        this.inputInit();\n        if (this.bodyOverlay) this.$store.commit('TOGGLE_CONTENT_OVERLAY', false);\n      } else {\n        if (this.backgroundOverlay && !this.bodyOverlay) this.$store.commit('TOGGLE_CONTENT_OVERLAY', true);\n        var exactEle = this.data.data.filter(function (item) {\n          return item.label.toLowerCase().startsWith(_this.searchQuery.toLowerCase());\n        });\n        var containEle = this.data.data.filter(function (item) {\n          return !item.label.toLowerCase().startsWith(_this.searchQuery.toLowerCase()) && item.label.toLowerCase().indexOf(_this.searchQuery.toLowerCase()) > -1;\n        });\n        this.filteredData = exactEle.concat(containEle).slice(0, this.searchLimit);\n        if (!this.filteredData[0]) this.currentSelected = -1;\n      } // ADD: No result found\n\n\n      if (!this.filteredData.length && this.searchQuery) {\n        this.filteredData = [{\n          highlightAction: false,\n          index: -1,\n          label: 'No results found.',\n          labelIcon: 'AlertCircleIcon',\n          url: null\n        }];\n      }\n    },\n    autoFocus: function autoFocus(val) {\n      if (val) this.focusInput();else this.searchQuery = '';\n    },\n    filteredData: function filteredData() {\n      if (this.currentSelected < 0 && this.filteredData.length) {\n        this.currentSelected = 0;\n      } // Prevent selecting if first item in list dont have url e.g. 'No Reult'\n\n\n      if (this.filteredData[0]) {\n        if (!this.filteredData[0].url) {\n          this.currentSelected = -1;\n        }\n      }\n    }\n  },\n  computed: {\n    bodyOverlay: function bodyOverlay() {\n      return this.$store.state.bodyOverlay;\n    },\n    actionClasses: function actionClasses() {\n      var _this2 = this;\n\n      return function (isHighlighted) {\n        if (isHighlighted) return \"stroke-current text-\".concat(_this2.data.highlightColor);\n      };\n    }\n  },\n  methods: {\n    escPressed: function escPressed() {\n      this.$emit('closeSearchbar');\n      this.searchQuery = '';\n      this.filteredData = [];\n    },\n    inputInit: function inputInit() {\n      if (this.showPinned) {\n        var starredData = this.data.data.filter(function (item) {\n          return item.highlightAction;\n        });\n        this.filteredData = starredData;\n      } else {\n        this.filteredData = [];\n      }\n    },\n    updateInputFocus: function updateInputFocus() {\n      var _this3 = this;\n\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (val) {\n        if (this.searchQuery == '') this.inputInit();\n        setTimeout(function () {\n          _this3.inputFocused = true;\n        }, 100);\n      } else {\n        if (this.insideSuggestions) return;\n        setTimeout(function () {\n          _this3.inputFocused = false;\n        }, 100);\n        this.escPressed();\n      }\n    },\n    suggestionSelected: function suggestionSelected() {\n      if (this.bodyOverlay && this.filteredData[0].url) this.$store.commit('TOGGLE_CONTENT_OVERLAY', false);\n\n      if (this.filteredData.length) {\n        if (this.filteredData[0].url) {\n          this.searchQuery = '';\n          if (this.currentSelected >= 0) this.$emit('selected', this.filteredData[this.currentSelected]);else this.$emit('selected', this.filteredData[0]);\n          this.filteredData = [];\n        }\n      }\n    },\n    actionClicked: function actionClicked() {\n      this.$emit('actionClicked', this.filteredData[this.currentSelected]);\n      if (!this.filteredData[this.currentSelected].highlightAction) this.filteredData.splice(this.currentSelected, 1);\n    },\n    increaseIndex: function increaseIndex() {\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      if (!val && this.currentSelected > 0) this.currentSelected--;else if (val && this.currentSelected < this.filteredData.length - 1 && this.filteredData[this.currentSelected + 1].index > -1) this.currentSelected++;\n      this.fixScrolling();\n    },\n    focusInput: function focusInput() {\n      this.$refs.input.$el.querySelector('input').focus();\n    },\n    fixScrolling: function fixScrolling() {\n      if (this.currentSelected > 0) {\n        var liH = this.$refs.option[this.currentSelected].clientHeight;\n        var ulH = this.$refs.scrollContainer.clientHeight;\n\n        if (ulH - liH * this.currentSelected < liH) {\n          this.$refs.scrollContainer.scrollTop = Math.round((this.currentSelected + 1 - ulH / liH + 1) * liH);\n        }\n      }\n    }\n  },\n  mounted: function mounted() {\n    if (this.autoFocus) this.focusInput();\n  }\n};",{"version":3,"sources":["VxAutoSuggest.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"vx-auto-suggest\">\r\n\t\t<div class=\"flex items-center relative\">\r\n\t\t\t<vs-input :placeholder=\"placeholder\" ref=\"input\" :class=\"inputClassses\" class=\"z-50\" icon-pack='feather' icon='icon-search' icon-no-border v-model=\"searchQuery\" @keyup.esc=\"escPressed\" @keyup.up=\"increaseIndex(false)\" @keyup.down=\"increaseIndex\" @keyup.enter=\"suggestionSelected\" @focus=\"updateInputFocus\" @blur=\"updateInputFocus(false)\"></vs-input>\r\n\t\t</div>\r\n\t\t<ul ref=\"scrollContainer\" class=\"auto-suggest-suggestions-list z-50 rounded-lg mt-2 shadow-lg overflow-hidden\" :class=\"{'hidden': !inputFocused}\" @mouseenter=\"insideSuggestions = true\" @mouseleave=\"insideSuggestions = false\" @focus=\"updateInputFocus\" @blur=\"updateInputFocus(false)\" tabindex=\"-1\">\r\n\t\t\t<li\r\n\t\t\t\tref=\"option\"\r\n\t\t\t\tclass=\"auto-suggest__suggestion flex items-center justify-between py-3 cursor-pointer\"\r\n\t\t\t\tv-for=\"(suggestion, index) in filteredData\"\r\n\t\t\t\t:key=\"index\"\r\n\t\t\t\t:class=\"{'vx-auto-suggest__current-selected': currentSelected == index, 'pointer-events-none': suggestion.index < 0}\"\r\n\t\t\t\t@mouseenter=\"currentSelected = index\"\r\n\t\t\t\t@click=\"suggestionSelected\">\r\n\r\n\t\t\t\t<div class=\"flex items-center\">\r\n\t\t\t\t\t<feather-icon :icon=\"suggestion.labelIcon\" svgClasses=\"h-5 w-5\" class=\"mr-4\"></feather-icon>\r\n\t\t\t\t\t<span>{{ suggestion.label }}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<feather-icon v-if=\"showAction\" :icon=\"data.actionIcon\" :svgClasses=\"[actionClasses(suggestion.highlightAction), 'h-5 w-5']\" @click.stop=\"actionClicked\"></feather-icon>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default{\r\n\tprops: {\r\n\t\tplaceholder: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'Search..'\r\n\t\t},\r\n\t\tdata: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tshowAction: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\tinputClassses: {\r\n\t\t\ttype: [String, Object, Array],\r\n\t\t},\r\n\t\tautoFocus: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\tshowPinned: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tbackgroundOverlay: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tsearchLimit: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 10\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsearchQuery: '',\r\n\t\t\tfilteredData: [],\r\n\t\t\tcurrentSelected: -1,\r\n\t\t\tinputFocused: false,\r\n\t\t\tinsideSuggestions: false,\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\t// UPDATE SUGGESTIONS LIST\r\n\t\tsearchQuery(val) {\r\n\t\t\tif(val == '') {\r\n\t\t\t\tthis.inputInit();\r\n\t\t\t\tif(this.bodyOverlay) this.$store.commit('TOGGLE_CONTENT_OVERLAY', false);\r\n\t\t\t}else {\r\n\t\t\t\tif(this.backgroundOverlay && !this.bodyOverlay) this.$store.commit('TOGGLE_CONTENT_OVERLAY', true);\r\n\t\t\t\tlet exactEle = this.data.data.filter((item) => {\r\n\t\t\t\t\treturn item.label.toLowerCase().startsWith(this.searchQuery.toLowerCase())\r\n\t\t\t\t});\r\n\t\t\t\tlet containEle = this.data.data.filter((item) => {\r\n\t\t\t\t\treturn !item.label.toLowerCase().startsWith(this.searchQuery.toLowerCase()) && item.label.toLowerCase().indexOf(this.searchQuery.toLowerCase()) > -1\r\n\t\t\t\t});\r\n\t\t\t\tthis.filteredData = exactEle.concat(containEle).slice(0,this.searchLimit)\r\n\t\t\t\tif(!this.filteredData[0]) this.currentSelected = -1\r\n\t\t\t}\r\n\r\n\t\t\t// ADD: No result found\r\n\t\t\tif(!this.filteredData.length && this.searchQuery) {\r\n\t\t\t\tthis.filteredData = [{\r\n\t\t\t\t\thighlightAction: false,\r\n\t\t\t\t\tindex: -1,\r\n\t\t\t\t\tlabel: 'No results found.',\r\n\t\t\t\t\tlabelIcon: 'AlertCircleIcon',\r\n\t\t\t\t\turl: null,\r\n\t\t\t\t}]\r\n\t\t\t}\r\n\t\t},\r\n\t\tautoFocus(val) {\r\n\t\t\tif(val) this.focusInput();\r\n\t\t\telse this.searchQuery = '';\r\n\t\t},\r\n\t\tfilteredData() {\r\n\t\t\tif(this.currentSelected < 0 && this.filteredData.length) {\r\n\t\t\t\tthis.currentSelected = 0;\r\n\t\t\t}\r\n\t\t\t// Prevent selecting if first item in list dont have url e.g. 'No Reult'\r\n\t\t\tif(this.filteredData[0]){\r\n\t\t\t\tif(!this.filteredData[0].url) {\r\n\t\t\t\t\tthis.currentSelected = -1\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tbodyOverlay() {\r\n\t\t\treturn this.$store.state.bodyOverlay;\r\n\t\t},\r\n\t\tactionClasses() {\r\n\t\t\treturn (isHighlighted) => {\r\n\t\t\t\tif(isHighlighted) return `stroke-current text-${this.data.highlightColor}`\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tescPressed() {\r\n\t\t\tthis.$emit('closeSearchbar')\r\n\t\t\tthis.searchQuery = '';\r\n\t\t\tthis.filteredData = [];\r\n\t\t},\r\n\t\tinputInit() {\r\n\t\t\tif(this.showPinned) {\r\n\t\t\t\tconst starredData = this.data.data.filter((item) => item.highlightAction)\r\n\t\t\t\tthis.filteredData = starredData;\r\n\t\t\t}else {\r\n\t\t\t\tthis.filteredData = [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdateInputFocus(val = true) {\r\n\t\t\tif(val) {\r\n\t\t\t\tif(this.searchQuery == '') this.inputInit();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.inputFocused = true;\r\n\t\t\t\t}, 100)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(this.insideSuggestions) return\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.inputFocused = false;\r\n\t\t\t\t}, 100)\r\n\t\t\t\tthis.escPressed();\r\n\t\t\t}\r\n\t\t},\r\n\t\tsuggestionSelected() {\r\n\t\t\tif(this.bodyOverlay && this.filteredData[0].url) this.$store.commit('TOGGLE_CONTENT_OVERLAY', false);\r\n\t\t\tif(this.filteredData.length) {\r\n\t\t\t\tif(this.filteredData[0].url){\r\n\t\t\t\t\tthis.searchQuery = '';\r\n\t\t\t\t\tif(this.currentSelected >= 0 ) this.$emit('selected', this.filteredData[this.currentSelected])\r\n\t\t\t\t\telse this.$emit('selected', this.filteredData[0])\r\n\t\t\t\t\tthis.filteredData = [];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tactionClicked() {\r\n\t\t\tthis.$emit('actionClicked', this.filteredData[this.currentSelected])\r\n\t\t\tif(!this.filteredData[this.currentSelected].highlightAction) this.filteredData.splice(this.currentSelected, 1)\r\n\t\t},\r\n\t\tincreaseIndex(val = false) {\r\n\t\t\tif(!val && this.currentSelected > 0) this.currentSelected--\r\n\t\t\telse if(val && (this.currentSelected < this.filteredData.length-1) && (this.filteredData[this.currentSelected+1].index > -1)) this.currentSelected++\r\n\t\t\tthis.fixScrolling();\r\n\t\t},\r\n\t\tfocusInput() {\r\n\t\t\tthis.$refs.input.$el.querySelector('input').focus();\r\n\t\t},\r\n\t\tfixScrolling() {\r\n\t\t\tif(this.currentSelected > 0) {\r\n\t\t\t\tconst liH = this.$refs.option[this.currentSelected].clientHeight;\r\n\t\t\t\tconst ulH = this.$refs.scrollContainer.clientHeight;\r\n\t\t\t\tif(ulH - (liH * this.currentSelected) < liH){\r\n\t\t\t\t\tthis.$refs.scrollContainer.scrollTop = Math.round(((this.currentSelected+1) - (ulH / liH)+1) * liH);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tif(this.autoFocus) this.focusInput();\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"@/assets/scss/vuesax/components/vxAutoSuggest.scss\";\r\n</style>"],"sourceRoot":"src/components/vx-auto-suggest"}]}